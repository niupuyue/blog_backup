---
title: android奇技淫巧 07 Android APK体积优化
date: 2018-07-01 22:44:10
tags:
  - APK体积优化
---

一般APK体积优化可以从以下几个方面入手
1. svg的使用和优化
2. Tint着色器的使用和优化
3. 资源打包配置优化
4. 动态库的打包配置优化
5. 移除无用的资源(物理删除和非物理删除)
6. 代码混淆
7. webp转化(api等级18)
8. 资源混淆

# SVG的使用和优化

> 首先我们下来了解一下什么是svg，svg其实就是可以缩放的缩略图。其实就是在不同地方显示不同大小

在自己做一些小项目的时候，我都会从[阿里矢量图](https://www.iconfont.cn/)中去查找，至于具体怎么下载，大家可以去尝试一下。下载下来之后就是一个.svg的文件。我们可以通过Android studio引入矢量图。

具体的操作步骤如下：
res --> new --> vector Asset

如图所示：

![将矢量图引入到Android studio中](/assets/)

之后就会有一个弹窗，如图

![矢量图引入弹窗](/assets/)

在Asset Type中第一个选项表示的是系统图标，第二个表示的是本地图标。这样我们就会生成一个.xml结尾的图标。里面的代码大致是这个样子的(不同的图片会有差别)
```
// 矢量图生成的代码
```
具体里面的语法结构我也不太清楚，不过能够大致猜出一些标签的含义。
在使用的时候跟之前使用图片的方式也不太一样。

```
// 矢量图的使用
app:srcCompat="@drawable/ic_arror_back_black"
```

首先svg是可缩放矢量图，所以我们在项目中只要添加一张svg，就可以在不同的地方使用，并且在使用的时候可以根据不同的大小显示出不同的样式，这样可以大大减少图片资源带来的APK体积增加。
