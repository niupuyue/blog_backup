---
title: android奇技淫巧 23 语音播放/录制模块封装
date: 2020-03-11 10:38:10
tags:
  - android
---
最近在准备面试的东西，看了自己之前写过的代码，语音播放/录制模块可以进行一下封装操作，所以决定自己做一个轮子。

<!--more-->
初步构想，如果需要封装一个语音播放模块需要考虑哪些内容

1. 采用什么样的设计模式？
采用Builder构造者模式，实现链式调用
2. 支持多个语音播放？(暂定，后面可能不需要)
如果需要支持多个语音播放，需要使用到线程池，将需要播放的语音加入队列，按照顺序播放.
3. 网络请求
要实现边下载边播放的功能，并且可以返回下载进度
4. 缓存方式
采用三级缓存：LruCache，弱引用，磁盘缓存
5. 语音播放和Activity、Fragment生命周期进行绑定
仿照Glide创建一个透明的Fragment，与Activity的声明周期进行绑定，并且可以实现一些本身提供的语音录制/播放的UI


# 参考资料
[MediaPlayer实现边下边播功能](https://www.jianshu.com/p/1e48b2fbb843)